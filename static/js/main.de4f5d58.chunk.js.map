{"version":3,"sources":["algorithms/Calculator/Calculator.rd3.js","components/Player/Player.slice.js","algorithms/ConvexHull/ConvexHull.rd3.js","algorithms/index.js","algorithms/Calculator/Calculator.code.js","algorithms/ConvexHull/ConvexHull.code.js","components/Sidebar/index.js","components/CodeEditor/index.js","components/EditorContainer/index.js","components/Player/index.js","components/VizContainer/index.js","components/App/App.slice.js","components/App/index.js","rootReducer.js","store.js","index.js"],"names":["CalculatorRenderer","props","playerSlice","createSlice","name","initialState","playing","speed","reducers","updateSpeed","state","action","payload","togglePlay","actions","ConvexHullRenderer","d3Container","useRef","useSelector","player","dispatch","useDispatch","useLayoutEffect","data","length","current","svg","d3","attr","p","append","selectAll","join","d","hull","a","remove","h","transition","style","i","visible","slice","includes","Promise","delay","redraw","ref","algoMapping","key","AlgorithmService","algorithmKey","Object","assign","map","x","Sidebar","activeAlgorithm","app","algoNames","className","algo","to","CodeEditor","useState","code","setCode","useEffect","mode","theme","editorProps","$blockScrolling","value","readOnly","EditorContainer","Player","class","disabled","onClick","icon","faPlay","VizContainer","comp","vertices","setVertices","randomX","offsetWidth","randomY","offsetHeight","React","createElement","appSlice","updateAlgorithm","document","title","App","match","params","algorithm","split","defaultSize","allowResize","rootReducer","combineReducers","appReducer","playerReducer","store","configureStore","reducer","ReactDOM","render","StrictMode","basename","process","exact","path","component","getElementById"],"mappings":"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","file":"static/js/main.de4f5d58.chunk.js","sourcesContent":["import React from 'react';\nimport './Calculator.scss';\n\nfunction CalculatorRenderer(props) {\n\n    return (\n      <p>Calculator</p>\n  );\n}\n\nexport default CalculatorRenderer;\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst playerSlice = createSlice({\n  name: 'player',\n  initialState: {\n    playing: false,\n    speed: 1,\n  },\n  reducers: {\n    updateSpeed(state, action) {\n      state.speed = action.payload;\n    },\n    togglePlay(state, action) {\n      state.playing = !state.playing;\n    }\n  },\n});\n\nexport const { \n  updateSpeed,\n  togglePlay,\n } = playerSlice.actions;\nexport default playerSlice.reducer;\n","import React, { useRef, useLayoutEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport * as d3 from 'd3';\nimport Promise from 'bluebird';\nimport './ConvexHull.scss';\nimport { togglePlay } from 'components/Player/Player.slice';\n\nfunction ConvexHullRenderer(props) {\n  const d3Container = useRef(null);\n  const { playing } = useSelector(state => state.player);\n  const dispatch = useDispatch();\n\n\n  useLayoutEffect(\n    () => {\n        if (props.data && props.data.length > 0 && d3Container.current) {\n            const svg = d3.select(d3Container.current);\n            svg.attr(\"transform\", \"scale(1,-1)\")\n\n\n            let p = svg\n              .append(\"g\")\n              .selectAll(\"circle\")\n              .data(props.data)\n              .join(\"circle\")\n              .attr(\"r\", 3)\n              .attr(\"cx\", d => d[0])\n              .attr(\"cy\", d => d[1]);\n            \n            let hull = d3.polygonHull(props.data);\n            if (playing) redraw();\n\n            async function redraw() {\n              d3.selectAll(\"path.hull\").remove();\n              let h = svg.append(\"path\")\n              .attr(\"class\", \"hull\");\n\n              h.transition().style(\"fill\", \"#f3f4ed22\");\n\n              for (let i = 2; i <= hull.length; i++) {\n                const visible = hull.slice(0, i);\n                h.attr(\"d\", `M${visible.join(\"L\")}Z`);\n                p.style(\"fill\", d => (visible.includes(d) ? \"orange\" : \"#f4eee8\"));\n                await Promise.delay(300);\n              }\n\n              dispatch(togglePlay());\n            }\n          \n        }\n    }, \n    [props.data, playing, dispatch]);\n\n    return (\n      <svg ref={d3Container} />\n  );\n}\n\nexport default ConvexHullRenderer;\n","import {default as CalculatorRenderer } from './Calculator/Calculator.rd3';\nimport {default as CalculatorCode } from './Calculator/Calculator.code';\nimport {default as ConvexHullRenderer } from './ConvexHull/ConvexHull.rd3';\nimport {default as ConvexHullCode } from './ConvexHull/ConvexHull.code';\n\nconst algoMapping = [\n  {\n    key: 'calculator',\n    name: 'Calculator'\n  },\n  {\n    key: 'convex-hull',\n    name: 'Convex Hull'\n  },\n];\n\nexport const AlgorithmService = {\n\n  listAlgoNames: () => {\n    return algoMapping;\n  },\n  getAlgoTitle: (algorithmKey) => {\n    return Object.assign({}, ...algoMapping.map((x) => ({[x.key]: x.name})))[algorithmKey];\n  },\n  getAlgoCode: (algorithmKey) => {\n    const mapping = {\n      'calculator': CalculatorCode,\n      'convex-hull': ConvexHullCode,\n    };\n\n    return mapping[algorithmKey];\n  },\n  getAlgoRenderer: (algorithmKey) => {\n    const mapping = {\n      'calculator': CalculatorRenderer,\n      'convex-hull': ConvexHullRenderer,\n    };\n\n    return mapping[algorithmKey];\n  },\n\n};\n","const ConvexHull = `import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n \nimport static java.util.Collections.emptyList;\n \npublic class Calculator {\n    public static void main(String[] args) {\n        System.out.println('Hello World');\n    }\n\n}`;\n\nexport default ConvexHull;\n","const ConvexHull = `import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n \nimport static java.util.Collections.emptyList;\n \npublic class ConvexHull {\n    private static class Point implements Comparable<Point> {\n        private int x, y;\n \n        public Point(int x, int y) {\n            this.x = x;\n            this.y = y;\n        }\n \n        @Override\n        public int compareTo(Point o) {\n            return Integer.compare(x, o.x);\n        }\n \n        @Override\n        public String toString() {\n            return String.format(\"(%d, %d)\", x, y);\n        }\n    }\n \n    private static List<Point> convexHull(List<Point> p) {\n        if (p.isEmpty()) return emptyList();\n        p.sort(Point::compareTo);\n        List<Point> h = new ArrayList<>();\n \n        // lower hull\n        for (Point pt : p) {\n            while (h.size() >= 2 && !ccw(h.get(h.size() - 2), h.get(h.size() - 1), pt)) {\n                h.remove(h.size() - 1);\n            }\n            h.add(pt);\n        }\n \n        // upper hull\n        int t = h.size() + 1;\n        for (int i = p.size() - 1; i >= 0; i--) {\n            Point pt = p.get(i);\n            while (h.size() >= t && !ccw(h.get(h.size() - 2), h.get(h.size() - 1), pt)) {\n                h.remove(h.size() - 1);\n            }\n            h.add(pt);\n        }\n \n        h.remove(h.size() - 1);\n        return h;\n    }\n \n    // ccw returns true if the three points make a counter-clockwise turn\n    private static boolean ccw(Point a, Point b, Point c) {\n        return ((b.x - a.x) * (c.y - a.y)) > ((b.y - a.y) * (c.x - a.x));\n    }\n}`;\n\nexport default ConvexHull;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { AlgorithmService } from 'algorithms';\nimport './Sidebar.scss'\n\nfunction Sidebar() {\n  const { activeAlgorithm } = useSelector(state => state.app);\n  const algoNames = AlgorithmService.listAlgoNames();\n  \n  return (\n    <div>\n      <h1>\n        { AlgorithmService.getAlgoTitle(activeAlgorithm) ?? 'Welcome' }\n      </h1>\n      <div className=\"sidebar-item-wrapper\">\n        {\n          algoNames.map(algo => <Link to={`/${algo.key}`}><div className=\"sidebar-item\" key={algo.key}>{algo.name}</div></Link>)\n        }\n      </div>\n      <ul>\n        \n      </ul>\n    </div>\n  );\n}\n\nexport default Sidebar;\n","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport AceEditor from \"react-ace\";\nimport './CodeEditor.scss';\n\nimport \"ace-builds/src-noconflict/mode-java\";\nimport \"ace-builds/src-noconflict/theme-monokai\";\nimport { AlgorithmService } from 'algorithms';\n\nfunction CodeEditor() {\n  const { activeAlgorithm } = useSelector(state => state.app);\n  const [code, setCode] = useState('\\n\\n<-- Select an algorithm from the left to start.\\n\\n');\n\n  useEffect(() => {\n    setCode(AlgorithmService.getAlgoCode(activeAlgorithm));\n  }, [activeAlgorithm]);\n\n  return (\n    <div className=\"code-editor\">\n      <AceEditor\n        mode=\"java\"\n        theme=\"monokai\"\n        name=\"code-editor\"\n        editorProps={{ $blockScrolling: true }}\n        value={code}\n        readOnly={true}\n      />\n    </div>\n  );\n}\n\nexport default CodeEditor;\n","import React from 'react';\nimport CodeEditor from 'components/CodeEditor';\nimport './EditorContainer.scss'\n\nfunction EditorContainer() {\n  return (\n    <div className=\"editor-container\">\n      <div className=\"content\">\n        <CodeEditor />\n      </div>\n    </div>\n  );\n}\n\nexport default EditorContainer;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlay } from '@fortawesome/free-solid-svg-icons'\nimport { togglePlay } from './Player.slice';\nimport './Player.scss';\n\nconst Player = () => {\n  const dispatch = useDispatch();\n  const { activeAlgorithm } = useSelector(state => state.app);\n  const { playing } = useSelector(state => state.player);\n\n  const togglePlayStatus = () => {\n    dispatch(togglePlay());\n  };\n\n  return (\n    <div className=\"player-container\">\n      {\n        playing ? (\n          <button class=\"btn btn-playing\" disabled={playing}>\n            Playing\n          </button>\n        ) : (\n          <button class=\"btn btn-play\" onClick={togglePlayStatus} disabled={!activeAlgorithm}>\n            <FontAwesomeIcon icon={faPlay} />\n            Play\n          </button>\n        )\n      }\n      \n    </div>\n  );\n}\n\nexport default Player;\n","import React, { useRef, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport * as d3 from 'd3';\nimport { AlgorithmService } from 'algorithms';\nimport Player from 'components/Player';\n\nfunction VizContainer() {\n  const { activeAlgorithm } = useSelector(state => state.app);\n  const comp = AlgorithmService.getAlgoRenderer(activeAlgorithm);\n  const ref = useRef(null);\n  const [vertices, setVertices] = useState([]);\n\n  useEffect(() => {\n    if (ref.current) {\n      const randomX = d3.randomInt(ref.current.offsetWidth - 10);\n      const randomY = d3.randomInt(ref.current.offsetHeight - 20);\n      setVertices(d3.range(25).map(function () { return [randomX() + 10, randomY() + 20]; }));\n    }\n  }, []);\n\n  return (\n    <div className=\"viz-container\" ref={ref}>\n      <Player />\n      { comp && React.createElement(comp, {data: vertices,})}\n    </div>\n  );\n}\n\nexport default VizContainer;\n","import { createSlice } from '@reduxjs/toolkit';\nimport { AlgorithmService } from 'algorithms';\n\nconst appSlice = createSlice({\n  name: 'app',\n  initialState: {\n    activeAlgorithm: null,\n  },\n  reducers: {\n    updateAlgorithm(state, action) {\n      state.activeAlgorithm = action.payload;\n      document.title = AlgorithmService.getAlgoTitle(action.payload);\n    },\n  },\n});\n\nexport const { updateAlgorithm } = appSlice.actions;\nexport default appSlice.reducer;\n","import React, { useEffect } from 'react';\nimport { useDispatch } from \"react-redux\";\nimport { Sidebar, EditorContainer, VizContainer } from 'components';\nimport SplitPane from \"react-split-pane\";\nimport { updateAlgorithm } from 'components/App/App.slice';\nimport './App.scss';\n\nfunction App(props) {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (props.match.params.algorithm) {\n      dispatch(updateAlgorithm(props.match.params.algorithm));\n    }\n  }, [props, dispatch]);\n  \n  return (\n    <div className=\"App\">\n      <SplitPane split=\"vertical\" defaultSize=\"15%\" allowResize={false}>\n        <Sidebar />\n        <SplitPane split=\"vertical\" defaultSize=\"50%\">\n          <EditorContainer />\n          <VizContainer />\n        </SplitPane>\n      </SplitPane>  \n    </div>\n  );\n}\n\nexport default App;\n","import { combineReducers } from '@reduxjs/toolkit';\nimport appReducer from 'components/App/App.slice';\nimport playerReducer from 'components/Player/Player.slice';\n\nconst rootReducer = combineReducers({\n  app: appReducer,\n  player: playerReducer,\n});\n\nexport default rootReducer;\n","import { configureStore } from '@reduxjs/toolkit';\nimport rootReducer from './rootReducer';\n\nconst store = configureStore({\n  reducer: rootReducer,\n});\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport App from 'components/App';\nimport store from './store';\nimport './index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <Switch>\n          <Route exact path=\"/:algorithm\" component={App}/>\n          <Route path=\"/\" component={App}/>\n        </Switch>\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}